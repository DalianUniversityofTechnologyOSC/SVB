<div class="sear-box quick-sear-box">
    <div id="queryLeftForm">
        <div class="s-info" id="place_area">
            <ul>
                <li class="datebox">
                    <span class="label"> 开始日期</span>
                    <div class="inp-w" style="z-index:1200">
                        <input id="start_date" class="d_date" type="text" required="required" />
                        <span id="date_icon_1" class="i-date"></span>
                    </div>
                </li>
                <li class="datebox">
                    <span class="label"> 结束日期</span>
                    <div class="inp-w" id="back_div" style="z-index:1100">
                        <input id="end_date" class="d_date" type="text" required="required" />
                        <span id="date_icon_2" class="i-date"></span>
                    </div>
                </li>
                <li class="week">
                    <span class="label">开始周</span>
                    <div class="inp-w" style="z-index:1200">
                        <select id="week_start" class="weekNumber" disabled="true">
                            @for (int i = 1; i <= ViewBag.weekNumber; i++)
                            {
                                <option>第 @i 周</option>
                            }
                        </select>
                    </div>
                </li>
                <li class="week">
                    <span class="label">结束周</span>
                    <div class="inp-w" style="z-index:1200">
                        <select id="week_end" class="weekNumber" disabled="true">
                            @for (int i = 1; i <= ViewBag.weekNumber; i++)
                            {
                                <option>第 @i 周</option>
                            }
                        </select>
                    </div>
                </li>
            </ul>
        </div>
        <div class="quick-s">
            <ul>
                <li>
                    <input type="radio" id="sf1" value="1" class="radio_date" name="date" checked="checked">
                    <label id="sf1_label" for="sf1" class="cursor">日期</label>
                </li>
                <li>
                    <input type="radio" id="sf2" value="2" class="radio_date" name="date">
                    <label id="sf2_label" for="sf2" class="cursor color999">周数</label>
                </li>
            </ul>
            <div class="btn-area">
                <a href="javascript:" id="query_ticket" class="btn92s" shape="rect">查询</a>
            </div>
        </div>
    </div>
</div>

<div class="sear-sel" id="sear-sel">
    <div id="date_range" class="sear-sel-hd clearfix">
        <div class="clear"></div>
    </div>
    <div class="sear-sel-bd quick-buy-sel quick-buy-open" id="sear-sel-bd" style="height: 47px">
        <div class="section clearfix">
            <div class="section-hd">预约条件：</div>
            <div class="section-bd" id="cc_train_type_btn_all">
                <ul id="_ul_station_train_code">
                    <li>
                        <input name="cc_type" type="radio" class="check" value="0" checked="checked" id="checkbox_19vzrLtiC0">
                        <label for="checkbox_19vzrLtiC3" style="cursor: pointer;">全部</label>
                    </li>
                    <li>
                        <input name="cc_type" type="radio" class="check" value="1" id="checkbox_19vzrLtiC1">
                        <label for="checkbox_19vzrLtiC3" style="cursor: pointer;">全部空闲</label>
                    </li>
                </ul>
            </div>
        </div>
        <div class="section clearfix">
            <div class="section-hd">场地条件：</div>
            <div class="section-bd" id="cc_from_station_name_all">
                <ul id="from_station_ul">
                    <li>
                        <label>
                            场地类型
                        </label>
                        <select class="select-small" id="space">
                            <option value="0">全部</option>
                            @foreach (SportsVenueBookingCommon.Models.Space s in ViewBag.spaces)
                            {
                                <option value="@s.space_Id">@s.space_Name</option>
                            }
                        </select>
                    </li>
                    <li>
                        <label>
                            课程时间
                        </label>
                        <select class="select-small" id="duration">
                            <option value="0">全部</option>
                            @foreach (SportsVenueBookingCommon.Models.Duration d in ViewBag.durations)
                            {
                                <option value="@d.duration_Id">@d.duration_Name</option>
                            }
                        </select>
                    </li>
                    <li>
                        <label>
                            课程星期
                        </label>
                        <select class="select-small" id="weekOfDay">
                            <option value="-1">全部</option>
                            <option value="1">周一</option>
                            <option value="2">周二</option>
                            <option value="3">周三</option>
                            <option value="4">周四</option>
                            <option value="5">周五</option>
                            <option value="6">周六</option>
                            <option value="0">周日</option>
                        </select>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="t-list" id="t-list">
    <table id="dg"></table>
</div>
<div id="win"></div>
<script type="text/javascript" src="/Themes/Js/bookingSite.js"></script>
<script type="text/javascript">
    $('#start_date').datebox({
        required: true
    });
    $('#end_date').datebox({
        required: true
    });
    $('#dg').datagrid({
        striped: true,
        rownumbers: true,
        fitColumns: true,
        singleSelect: true,
        idField: "id",
        url: "/Teacher/GetAppointmentInfo",
        queryParams: {
            startDate: "1970/1/1",
            endDate: "1970/1/1",
            conditions: 0,
            type: -1,
            time: -1
        },
        columns: [[
            { field: 'id', title: 'id', hidden: true },
            { field: 'time', title: '课程时间', width: 100 },
            { field: 'start', title: '开始日期', width: 100 },
            { field: 'startWeek', title: '开始周', width: 100 },
            { field: 'end', title: '结束日期', width: 100 },
            { field: 'endWeek', title: '结束周', width: 100 },
            { field: 'dayOfWeek', title: '星期', width: 100, formatter: parseDayOfWeek },
            { field: 'type', title: '场地类型', width: 100 },
            { field: 'idle', title: '空闲天数', width: 100 },
            { field: 'appointment', title: '已预约天数', width: 100 },
            { field: 'isAllIdle', title: '是否全部空闲', formatter: getIsAllIdle, width: 100 },
            { field: 'seach', title: '查看已预约情况', formatter: getIsSearch, width: 100 },
            { field: 'remarks', title: '备注', align: "center", width: 100, formatter: getButton }
        ]]
    });
</script>